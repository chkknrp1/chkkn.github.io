<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Store Price Calculator</title>
<style>
    /* Basic styling */
    body {
        font-family: Arial, sans-serif;
    }
    .container {
        max-width: 600px;
        margin: 0 auto;
        padding: 20px;
    }
    button {
        margin-bottom: 10px;
        padding: 10px;
        cursor: pointer;
    }
    .category {
        margin-bottom: 20px;
    }
</style>
</head>
<body>

<div class="container">
    <h2>Store Price Calculator</h2>
    <!-- Category buttons -->
    <div class="category">
        <button onclick="showCategory('Performance')">Performance</button>
        <button onclick="showCategory('Cosmetics')">Cosmetics</button>
        <button onclick="showCategory('Repairs')">Repairs</button>
        <button onclick="showCategory('Extra')">Extra</button>
        <!-- Add more category buttons as needed -->
    </div>
    <!-- Items container -->
    <div id="items">
        <!-- Items will be displayed here dynamically -->
    </div>
    <!-- Discount input -->
    <div>
        <label for="discount">Discount Percentage:</label>
        <input type="number" id="discount" min="0" max="100" step="1">
        <button onclick="applyDiscount()">Apply Discount</button>
    </div>
    <!-- Selected items list -->
    <div id="selectedItems">
        <h3>Selected Items:</h3>
        <ul id="selectedItemsList"></ul>
    </div>
    <!-- Total -->
    <h3>Total: $<span id="total">0</span></h3>
    <!-- Reset button -->
    <button onclick="resetTotal()">Reset</button>
</div>

<script>
    // Sample items grouped by category
    var itemsByCategory = {
        'Accessories': [
            { name: 'Item 3', price: 20 },
            { name: 'Item 4', price: 25 }
        ],
        'Performance': [
            { name: 'Performance (Engine, Brakes, Turbo, Transmission, Suspension)', price: 20000 },
            { name: 'Full Mods (Performance + Oil, Axle, Spark Plugs, Battery, Fuel Tank)', price: 45000 }
        ],
        'Cosmetics': [
            { name: 'Body', price: 750 },
            { name: 'Paint', price: 1000 }
        ],
        'Extra': [
            { name: 'Race Harness', price: 2000 },
            { name: 'Stance Kit', price: 15000 }
        ],
        'Repairs': [
            { name: 'Quick Repair (Engine and Body)', price: 1000 },
            { name: 'Full Repair (Engine, Body, Axle, Fuel Tank)', price: 2500 },
            { name: 'Service & Repair (Engine, Body, Oil, Axle, Spark Plugs, Battery, Fuel Tank)', price: 4000 }
        ]
        // Add more categories and items as needed
    };

    var selectedItems = {}; // Object to store selected items and their quantities

    // Function to display items for a given category
    function showCategory(categoryName) {
        var itemsContainer = document.getElementById('items');
        itemsContainer.innerHTML = ''; // Clear previous items

        var categoryItems = itemsByCategory[categoryName];
        if (categoryItems) {
            categoryItems.forEach(function(item) {
                var button = document.createElement('button');
                button.textContent = item.name + ' ($' + item.price + ')';
                button.onclick = function() {
                    addItem(item);
                };
                itemsContainer.appendChild(button);
            });
        }
    }

    // Function to add item to the selected items list
    function addItem(item) {
        var itemName = item.name;
        if (selectedItems[itemName]) {
            selectedItems[itemName].quantity++;
        } else {
            selectedItems[itemName] = { item: item, quantity: 1 };
        }

        updateSelectedItemsList();
        updateTotal();
    }

    // Function to update the selected items list
    function updateSelectedItemsList() {
        var selectedItemsList = document.getElementById('selectedItemsList');
        selectedItemsList.innerHTML = '';

        for (var itemName in selectedItems) {
            var listItem = document.createElement('li');
            listItem.textContent = itemName + ' x' + selectedItems[itemName].quantity;
            selectedItemsList.appendChild(listItem);
        }
    }

    // Function to add item price to total
    function updateTotal() {
        var totalElement = document.getElementById('total');
        var currentTotal = 0;

        for (var itemName in selectedItems) {
            var item = selectedItems[itemName].item;
            var itemPrice = item.price * selectedItems[itemName].quantity;
            currentTotal += itemPrice;
        }

        var discountInput = document.getElementById('discount');
        var discountPercentage = parseFloat(discountInput.value);

        if (!isNaN(discountPercentage) && discountPercentage >= 0 && discountPercentage <= 100) {
            var discountAmount = (currentTotal * discountPercentage) / 100;
            currentTotal -= discountAmount;
        }

        totalElement.innerText = currentTotal.toFixed(2);
    }

    // Function to reset total to zero and clear selected items
    function resetTotal() {
        var totalElement = document.getElementById('total');
        totalElement.innerText = '0';
        selectedItems = {};
        updateSelectedItemsList();
    }
</script>

</body>
</html>
